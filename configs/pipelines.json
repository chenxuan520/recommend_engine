{
  "pipelines": {
    "music": {
      "description": "Music Recommendation Pipeline",
      "timeout_ms": 300000,
      "nodes": [
        {
          "name": "llm_recall_group",
          "type": "parallel",
          "nodes": [
            {
              "name": "doubao_recall_1",
              "type": "recall_llm",
              "config": {
                "llm_config_key": "doubao",
                "count": 50
              }
            },
            {
              "name": "doubao_recall_2",
              "type": "recall_llm",
              "config": {
                "llm_config_key": "doubao",
                "count": 50
              }
            },
            {
              "name": "doubao_recall_3",
              "type": "recall_llm",
              "config": {
                "llm_config_key": "doubao",
                "count": 50
              }
            },
            {
              "name": "doubao_recall_4",
              "type": "recall_llm",
              "config": {
                "llm_config_key": "doubao",
                "count": 50
              }
            }
          ]
        },
        {
          "name": "history_dedup",
          "type": "filter_history",
          "config": {
            "lookback_days": 1
          }
        },
        {
          "name": "favorites_dedup",
          "type": "filter_favorites",
          "config": {}
        },
        {
          "name": "shuffle_rank",
          "type": "rank_simple",
          "config": {
            "order": "shuffle",
            "limit": 30
          }
        },
        {
          "name": "mix_favorites",
          "type": "rank_mix_favorites",
          "config": {
            "mix_count": 2
          }
        }
      ]
    }
  }
}
